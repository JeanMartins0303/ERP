<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cardápio - FlexBiz ERP</title>
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/cardapio.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet" />
</head>
<body class="light">
  <button class="menu-toggle" aria-label="Abrir menu"><i class="fas fa-bars"></i></button>
  <aside class="sidebar" role="navigation" aria-label="Menu principal">
    <header>FlexBiz ERP</header>
    <nav>
      <ul>
        <li><a href="index.html" class="active" aria-current="page"><i class="fas fa-chart-pie"></i><span class="link-text">Dashboard</span></a></li>
        <li><a href="pdv.html"><i class="fas fa-cash-register"></i><span class="link-text">PDV</span></a></li>
        <li><a href="produtos.html"><i class="fas fa-box"></i><span class="link-text">Produtos</span></a></li>
        <li><a href="cardapio.html"><i class="fas fa-utensils"></i><span class="link-text">Cardápio</span></a></li>
        <li><a href="estoque.html"><i class="fas fa-warehouse"></i><span class="link-text">Estoque</span></a></li>
        <li><a href="mesas.html"><i class="fas fa-chair"></i><span class="link-text">Mesas</span></a></li>
        <li><a href="clientes.html"><i class="fas fa-users"></i><span class="link-text">Clientes</span></a></li>
        <li><a href="financeiro.html"><i class="fas fa-dollar-sign"></i><span class="link-text">Financeiro</span></a></li>
        <li><a href="relatorios.html"><i class="fas fa-file-alt"></i><span class="link-text">Relatórios</span></a></li>
        <li><a href="usuarios.html"><i class="fas fa-user-shield"></i><span class="link-text">Usuários</span></a></li>
        <li><a href="configuracoes.html"><i class="fas fa-cog"></i><span class="link-text">Configurações</span></a></li>
        <li><a href="ajuda.html"><i class="fas fa-question-circle"></i><span class="link-text">Ajuda</span></a></li>
        <li><a href="login.html" class="logout-button menu-item"><i class="fas fa-sign-out-alt"></i><span class="link-text">Sair</span></a></li>
      </ul>
    </nav>
  </aside>

  <main class="main-content">
    <header>
      <h1>Cardápio</h1>
      <div class="header-actions">
        <button id="btnToggleTema" aria-label="Alternar tema escuro/claro">
          <i class="fas fa-moon"></i>
        </button>
      </div>
    </header>

    <section class="filtros card">
      <div class="filtro-grupo">
        <label for="categoriaCardapio">Categoria:</label>
        <select id="categoriaCardapio">
          <option value="todas">Todas</option>
          <!-- Preenchido via JS -->
        </select>
      </div>
      <div class="filtro-grupo">
        <label for="buscaCardapio">Buscar:</label>
        <input type="text" id="buscaCardapio" placeholder="Nome do prato...">
      </div>
      <button id="btnFiltrar" class="btn">
        <i class="fas fa-filter"></i> Filtrar
      </button>
    </section>

    <section class="acoes">
      <button id="btnAdicionar" class="btn" aria-label="Adicionar Prato">
        <i class="fas fa-plus"></i> Novo Prato
      </button>
      <button id="btnImportar" class="btn" aria-label="Importar Cardápio">
        <i class="fas fa-file-import"></i> Importar
      </button>
      <button id="btnExportar" class="btn" aria-label="Exportar Cardápio">
        <i class="fas fa-file-export"></i> Exportar
      </button>
      <button id="btnImprimir" class="btn" aria-label="Imprimir Cardápio">
        <i class="fas fa-print"></i> Imprimir
      </button>
    </section>

    <section class="cardapio-grid">
      <!-- Preenchido via JS -->
    </section>

    <!-- Modal para adicionar/editar prato -->
    <div id="modalPrato" class="modal hidden" role="dialog" aria-modal="true" aria-labelledby="modalTitle">
      <div class="modal-content">
        <header class="modal-header">
          <h2 id="modalTitle">Novo Prato</h2>
          <button id="btnFecharModal" aria-label="Fechar modal de prato">
            <i class="fas fa-times"></i>
          </button>
        </header>
        <form id="formPrato">
          <div class="form-grid">
            <div class="form-group">
              <label for="categoriaPrato">Categoria:</label>
              <select id="categoriaPrato" name="categoria" required></select>
              <div class="erro" id="erroCategoria"></div>
            </div>
            <div class="form-group">
              <label for="nomePrato">Nome:</label>
              <input type="text" id="nomePrato" name="nome" required />
              <div class="erro" id="erroNome"></div>
            </div>
            <div class="form-group">
              <label for="descricaoPrato">Descrição:</label>
              <textarea id="descricaoPrato" name="descricao" rows="3" required></textarea>
              <div class="erro" id="erroDescricao"></div>
            </div>
            <div class="form-group">
              <label for="precoPrato">Preço (R$):</label>
              <input type="number" id="precoPrato" name="preco" step="0.01" min="0" required />
              <div class="erro" id="erroPreco"></div>
            </div>
            <div class="form-group">
              <label for="tempoPreparo">Tempo de Preparo (min):</label>
              <input type="number" id="tempoPreparo" name="tempoPreparo" min="0" required />
              <div class="erro" id="erroTempo"></div>
            </div>
            <div class="form-group">
              <label for="statusPrato">Status:</label>
              <select id="statusPrato" name="status" required>
                <option value="ativo">Ativo</option>
                <option value="inativo">Inativo</option>
              </select>
              <div class="erro" id="erroStatus"></div>
            </div>
          </div>
          <div class="ingredientes-container">
            <h3><i class="fas fa-carrot"></i> Ingredientes</h3>
            <div id="listaIngredientes"></div>
            <button type="button" id="btnAdicionarIngrediente" class="btn">
              <i class="fas fa-plus"></i> Adicionar Ingrediente
            </button>
          </div>
          <div class="form-acoes">
            <button type="submit" class="btnSalvar" aria-label="Salvar prato">
              <i class="fas fa-save"></i> Salvar
            </button>
            <button type="button" class="btnCancelar" id="btnCancelar" aria-label="Cancelar e fechar modal">
              <i class="fas fa-times"></i> Cancelar
            </button>
          </div>
        </form>
      </div>
    </div>
  </main>

  <script src="js/cardapio.js"></script>
  <script src="js/tema.js"></script>
  <script>
    // Toggle tema claro/escuro
    document.getElementById('btnToggleTema').addEventListener('click', () => {
      document.body.classList.toggle('dark');
      const icon = document.querySelector('#btnToggleTema i');
      icon.classList.toggle('fa-moon');
      icon.classList.toggle('fa-sun');
    });

    // Menu mobile
    document.querySelector('.menu-toggle').addEventListener('click', () => {
      document.querySelector('.sidebar').classList.toggle('open');
    });
  </script>
</body>
</html>