var e;import"./utils-IgB7upkX.js";"function"==typeof alternarTema&&(null==(e=document.querySelector(".theme-toggle"))||e.addEventListener("click",alternarTema));const t=document.getElementById("senha"),o=document.getElementById("toggleSenha");t&&o&&o.addEventListener("click",()=>{t.type="password"===t.type?"text":"password",o.innerHTML="password"===t.type?'<i class="fa fa-eye"></i>':'<i class="fa fa-eye-slash"></i>'});const n=document.getElementById("loginForm"),a=document.getElementById("mensagem"),s=document.getElementById("lembrarMe"),r=document.getElementById("email");function l(e,t){a&&(a.textContent=e,a.className="mensagem "+t,a.style.display="block",setTimeout(()=>{a.style.display="none"},3e3))}window.addEventListener("DOMContentLoaded",()=>{const e=localStorage.getItem("erp_login_email");e&&r&&(r.value=e,s&&(s.checked=!0))}),n&&n.addEventListener("submit",function(e){var o;(e.preventDefault(),r.value.trim()&&t.value.trim())?(o=r.value,/^[\w-.]+@([\w-]+\.)+[\w-]{2,}$/.test(o)?"admin@erp.com"===r.value&&"123456"===t.value?(l("Login realizado com sucesso!","sucesso"),s&&s.checked?localStorage.setItem("erp_login_email",r.value):localStorage.removeItem("erp_login_email"),setTimeout(()=>{window.location.href="dashboard.html"},1200)):l("E-mail ou senha incorretos.","erro"):l("E-mail inválido.","erro")):l("Por favor, preencha todos os campos.","erro")}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("loginForm"),t=document.getElementById("mensagemLogin"),o=document.querySelectorAll(".toggle-password");function n(e,o){t.textContent=e,t.className=`mensagem ${o} visivel`,setTimeout(()=>{t.className="mensagem"},5e3)}e.addEventListener("submit",async t=>{t.preventDefault();const o=document.getElementById("email").value.trim(),a=document.getElementById("senha").value;if(document.getElementById("lembrar").checked,function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(o))if(function(e){return e.length>=6}(a))try{await new Promise(e=>setTimeout(e,1e3)),e.reset(),n("Login realizado com sucesso! Redirecionando...","sucesso"),setTimeout(()=>{window.location.href="dashboard.html"},2e3)}catch(s){console.error("Erro ao realizar login:",s),n("Email ou senha incorretos. Tente novamente.","erro")}else n("A senha deve ter pelo menos 6 caracteres.","erro");else n("Por favor, insira um email válido.","erro")}),o.forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement.querySelector("input"),o=e.querySelector("i");"password"===t.type?(t.type="text",o.classList.remove("fa-eye"),o.classList.add("fa-eye-slash")):(t.type="password",o.classList.remove("fa-eye-slash"),o.classList.add("fa-eye"))})});document.querySelectorAll("input").forEach(e=>{e.addEventListener("focus",()=>{e.parentElement.classList.add("focado")}),e.addEventListener("blur",()=>{e.parentElement.classList.remove("focado")})})}),document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("cadastroForm"),t=document.getElementById("mensagemCadastro"),o=document.querySelectorAll(".toggle-password");function n(e,o){t.textContent=e,t.className=`mensagem ${o} visivel`,setTimeout(()=>{t.className="mensagem"},5e3)}e.addEventListener("submit",async t=>{t.preventDefault();const o=document.getElementById("nome").value.trim(),a=document.getElementById("empresa").value.trim(),s=document.getElementById("email").value.trim(),r=document.getElementById("telefone").value.trim(),l=document.getElementById("senha").value,c=document.getElementById("confirmarSenha").value,i=document.getElementById("termos").checked;if(o.length<3)n("O nome deve ter pelo menos 3 caracteres.","erro");else if(a.length<2)n("O nome da empresa deve ter pelo menos 2 caracteres.","erro");else if(function(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}(s))if(function(e){return/^\(\d{2}\) \d{5}-\d{4}$/.test(e)}(r))if(function(e){return e.length>=6}(l))if(l===c)if(i)try{await new Promise(e=>setTimeout(e,1e3)),e.reset(),n("Cadastro realizado com sucesso! Redirecionando...","sucesso"),setTimeout(()=>{window.location.href="login.html"},2e3)}catch(m){console.error("Erro ao realizar cadastro:",m),n("Erro ao realizar cadastro. Tente novamente.","erro")}else n("Você precisa aceitar os termos de uso.","erro");else n("As senhas não coincidem.","erro");else n("A senha deve ter pelo menos 6 caracteres.","erro");else n("Por favor, insira um telefone válido.","erro");else n("Por favor, insira um email válido.","erro")});const a=document.getElementById("telefone");a.addEventListener("input",()=>{!function(e){let t=e.value.replace(/\D/g,"");t.length>11&&(t=t.slice(0,11)),t.length>2&&(t=`(${t.slice(0,2)}) ${t.slice(2)}`),t.length>9&&(t=`${t.slice(0,9)}-${t.slice(9)}`),e.value=t}(a)}),o.forEach(e=>{e.addEventListener("click",()=>{const t=e.parentElement.querySelector("input"),o=e.querySelector("i");"password"===t.type?(t.type="text",o.classList.remove("fa-eye"),o.classList.add("fa-eye-slash")):(t.type="password",o.classList.remove("fa-eye-slash"),o.classList.add("fa-eye"))})});document.querySelectorAll("input").forEach(e=>{e.addEventListener("focus",()=>{e.parentElement.classList.add("focado")}),e.addEventListener("blur",()=>{e.parentElement.classList.remove("focado")})})});
