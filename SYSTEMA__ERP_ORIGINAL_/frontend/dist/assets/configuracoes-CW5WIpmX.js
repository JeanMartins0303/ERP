import"./style-D-opnHba.js";function e(e){document.getElementById("btnToggleTema").innerHTML="light"===e?'<i class="fas fa-moon"></i>':'<i class="fas fa-sun"></i>'}function t(e){e.preventDefault();const t={nome:document.getElementById("nomeEmpresa").value,email:document.getElementById("emailEmpresa").value,telefone:document.getElementById("telefoneEmpresa").value,endereco:document.getElementById("enderecoEmpresa").value,tema:document.getElementById("temaPadrao").value,logo:"",idioma:document.getElementById("idiomaSistema").value,moeda:document.getElementById("moedaSistema").value,horario:document.getElementById("horarioPadrao").value,notificacoes:document.getElementById("notificacoesSistema").value,backup:document.getElementById("backupAutomatico").value,permissoes:document.getElementById("permissoesRapidas").value,exibirDicas:document.getElementById("exibirDicas").checked},n=document.getElementById("logoEmpresa");if(n.files&&n.files[0]){const e=new FileReader;e.onload=function(e){t.logo=e.target.result,localStorage.setItem("configuracoesERP",JSON.stringify(t)),a("Configurações salvas com sucesso!"),o()},e.readAsDataURL(n.files[0])}else{const e=JSON.parse(localStorage.getItem("configuracoesERP")||"{}");t.logo=e.logo||"",localStorage.setItem("configuracoesERP",JSON.stringify(t)),a("Configurações salvas com sucesso!"),o()}}function o(e){let t=document.getElementById("logoPreview");if(t||(t=document.createElement("img"),t.id="logoPreview",t.style.maxWidth="120px",t.style.maxHeight="60px",t.style.display="block",t.style.marginTop="0.5rem",document.getElementById("logoEmpresa").parentNode.appendChild(t)),e)t.src=e,t.style.display="block";else{const e=document.getElementById("logoEmpresa");if(e.files&&e.files[0]){const o=new FileReader;o.onload=function(e){t.src=e.target.result,t.style.display="block"},o.readAsDataURL(e.files[0])}else t.style.display="none"}}function a(e,t){let o=document.getElementById("msgConfig");o||(o=document.createElement("div"),o.id="msgConfig",o.style.marginTop="1rem",o.style.fontWeight="600",o.style.fontSize="1rem",o.style.borderRadius="6px",o.style.padding="0.7rem 1.2rem",o.style.textAlign="center",document.getElementById("formConfiguracoes").appendChild(o)),o.textContent=e,o.style.background="#d1fae5",o.style.color="#065f46",o.style.border="1px solid #22c55e",setTimeout(()=>{o.style.display="none"},3e3),o.style.display="block"}document.addEventListener("DOMContentLoaded",()=>{!function(){const t=localStorage.getItem("tema")||"light";document.body.className=t,e(t),document.getElementById("btnToggleTema").onclick=()=>{const t=document.body.classList.contains("light")?"dark":"light";document.body.className=t,localStorage.setItem("tema",t),e(t),document.getElementById("temaPadrao").value=t},document.getElementById("temaPadrao").addEventListener("change",t=>{document.body.className=t.target.value,localStorage.setItem("tema",t.target.value),e(t.target.value)})}(),function(){const t=JSON.parse(localStorage.getItem("configuracoesERP")||"{}");t.nome&&(document.getElementById("nomeEmpresa").value=t.nome);t.email&&(document.getElementById("emailEmpresa").value=t.email);t.telefone&&(document.getElementById("telefoneEmpresa").value=t.telefone);t.endereco&&(document.getElementById("enderecoEmpresa").value=t.endereco);t.tema&&(document.getElementById("temaPadrao").value=t.tema,document.body.className=t.tema,e(t.tema));t.idioma&&(document.getElementById("idiomaSistema").value=t.idioma);t.moeda&&(document.getElementById("moedaSistema").value=t.moeda);t.horario&&(document.getElementById("horarioPadrao").value=t.horario);t.notificacoes&&(document.getElementById("notificacoesSistema").value=t.notificacoes);t.backup&&(document.getElementById("backupAutomatico").value=t.backup);t.permissoes&&(document.getElementById("permissoesRapidas").value=t.permissoes);void 0!==t.exibirDicas&&(document.getElementById("exibirDicas").checked=t.exibirDicas);t.logo&&o(t.logo)}(),document.getElementById("formConfiguracoes").addEventListener("submit",t),document.getElementById("logoEmpresa").addEventListener("change",o)});
